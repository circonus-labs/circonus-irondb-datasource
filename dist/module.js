define(["lodash","app/plugins/sdk"],function(t,e){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=93)}([function(e,n){e.exports=t},function(t,e,n){"use strict";t.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},function(t,e,n){"use strict";var r=n(26)();t.exports=function(t){return t!==r&&null!==t}},function(t,e,n){"use strict";var r=n(27),a=Math.max;t.exports=function(t){return a(0,r(t))}},function(t,e,n){},function(t,e,n){"use strict";var r=n(17),a=n(41),o=n(14),i=n(12),u=n(45);(t.exports=function(t,e){var n,a,s,l,c;return arguments.length<2||"string"!=typeof t?(l=e,e=t,t=null):l=arguments[2],r(t)?(n=u.call(t,"c"),a=u.call(t,"e"),s=u.call(t,"w")):(n=s=!0,a=!1),c={value:e,configurable:n,enumerable:a,writable:s},l?o(i(l),c):c}).gs=function(t,e,n){var s,l,c,f;return"string"!=typeof t?(c=n,n=e,e=t,t=null):c=arguments[3],r(e)?a(e)?r(n)?a(n)||(c=n,n=void 0):n=void 0:(c=e,e=n=void 0):e=void 0,r(t)?(s=u.call(t,"c"),l=u.call(t,"e")):(s=!0,l=!1),f={get:e,set:n,configurable:s,enumerable:l},c?o(i(c),f):f}},function(t,e,n){"use strict";var r=n(2);t.exports=function(t){if(!r(t))throw new TypeError("Cannot use null or undefined");return t}},function(t,e,n){"use strict";t.exports=n(32)("forEach")},function(t,e){t.exports=function(){if(this)return this;Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0});try{return __global__}finally{delete Object.prototype.__global__}}()},function(t,e,n){"use strict";t.exports=n(51)()?Array.from:n(52)},function(t,e,n){"use strict";var r=n(67),a=n(3),o=n(6),i=Array.prototype.indexOf,u=Object.prototype.hasOwnProperty,s=Math.abs,l=Math.floor;t.exports=function(t){var e,n,c,f;if(!r(t))return i.apply(this,arguments);for(n=a(o(this).length),c=arguments[1],e=c=isNaN(c)?0:c>=0?l(c):a(this.length)-l(s(c));e<n;++e)if(u.call(this,e)&&(f=this[e],r(f)))return e;return-1}},function(t,e,n){"use strict";(function(e,n){var r,a;r=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t},a=function(t){var e,n,a=document.createTextNode(""),o=0;return new t(function(){var t;if(e)n&&(e=n.concat(e));else{if(!n)return;e=n}if(n=e,e=null,"function"==typeof n)return t=n,n=null,void t();for(a.data=o=++o%2;n;)t=n.shift(),n.length||(n=null),t()}).observe(a,{characterData:!0}),function(t){r(t),e?"function"==typeof e?e=[e,t]:e.push(t):(e=t,a.data=o=++o%2)}},t.exports=function(){if("object"==typeof e&&e&&"function"==typeof e.nextTick)return e.nextTick;if("object"==typeof document&&document){if("function"==typeof MutationObserver)return a(MutationObserver);if("function"==typeof WebKitMutationObserver)return a(WebKitMutationObserver)}return"function"==typeof n?function(t){n(r(t))}:"function"==typeof setTimeout||"object"==typeof setTimeout?function(t){setTimeout(r(t),0)}:null}()}).call(this,n(20),n(73).setImmediate)},function(t,e,n){"use strict";var r=n(2),a=Array.prototype.forEach,o=Object.create,i=function(t,e){var n;for(n in t)e[n]=t[n]};t.exports=function(t){var e=o(null);return a.call(arguments,function(t){r(t)&&i(Object(t),e)}),e}},function(t,e,n){"use strict";var r=n(3);t.exports=function(t,e,n){var a;return isNaN(t)?(a=e)>=0?n&&a?a-1:a:1:!1!==t&&r(t)}},function(t,e,n){"use strict";t.exports=n(35)()?Object.assign:n(36)},function(t,e,n){"use strict";var r,a,o,i,u,s=n(3),l=function(t,e){return e};try{Object.defineProperty(l,"length",{configurable:!0,writable:!1,enumerable:!1,value:1})}catch(t){}1===l.length?(r={configurable:!0,writable:!1,enumerable:!1},a=Object.defineProperty,t.exports=function(t,e){return e=s(e),t.length===e?t:(r.value=e,a(t,"length",r))}):(i=n(16),u=[],o=function(t){var e,n=0;if(u[t])return u[t];for(e=[];t--;)e.push("a"+(++n).toString(36));return new Function("fn","return function ("+e.join(", ")+") { return fn.apply(this, arguments); };")},t.exports=function(t,e){var n;if(e=s(e),t.length===e)return t;n=o(e)(t);try{i(n,t)}catch(t){}return n})},function(t,e,n){"use strict";var r=n(6),a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols;t.exports=function(t,e){var n,s=Object(r(e));if(t=Object(r(t)),i(s).forEach(function(r){try{a(t,r,o(e,r))}catch(t){n=t}}),"function"==typeof u&&u(s).forEach(function(r){try{a(t,r,o(e,r))}catch(t){n=t}}),void 0!==n)throw n;return t}},function(t,e,n){"use strict";t.exports=function(t){return null!=t}},function(t,e,n){"use strict";var r=n(56);t.exports=function(t){if(!r(t))throw new TypeError(t+" is not a symbol");return t}},function(t,e,n){"use strict";var r=n(1),a=n(7),o=Function.prototype.call;t.exports=function(t,e){var n={},i=arguments[2];return r(e),a(t,function(t,r,a,u){n[r]=o.call(e,i,t,r,a,u)}),n}},function(t,e){var n,r,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(t){r=i}}();var s,l=[],c=!1,f=-1;function p(){c&&s&&(c=!1,s.length?l=s.concat(l):f=-1,l.length&&d())}function d(){if(!c){var t=u(p);c=!0;for(var e=l.length;e;){for(s=l,l=[];++f<e;)s&&s[f].run();f=-1,e=l.length}s=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function g(){}a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new h(t,e)),1!==l.length||c||u(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=g,a.addListener=g,a.once=g,a.off=g,a.removeListener=g,a.removeAllListeners=g,a.emit=g,a.prependListener=g,a.prependOnceListener=g,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";t.exports=function(t){return"function"==typeof t}},function(t,e){t.exports=function(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then}},function(t,e,n){"use strict";var r=n(12),a=n(13),o=n(31);t.exports=function(t){var e,i=r(arguments[1]);return i.normalizer||0!==(e=i.length=a(i.length,t.length,i.async))&&(i.primitive?!1===e?i.normalizer=n(64):e>1&&(i.normalizer=n(65)(e)):i.normalizer=!1===e?n(66)():1===e?n(70)():n(71)(e)),i.async&&n(72),i.promise&&n(75),i.dispose&&n(81),i.maxAge&&n(82),i.max&&n(85),i.refCounter&&n(87),o(t,i)}},function(t,n){t.exports=e},function(t,e,n){"use strict";t.exports=function(){}},function(t,e,n){"use strict";var r=n(28),a=Math.abs,o=Math.floor;t.exports=function(t){return isNaN(t)?0:0!==(t=Number(t))&&isFinite(t)?r(t)*o(a(t)):t}},function(t,e,n){"use strict";t.exports=n(29)()?Math.sign:n(30)},function(t,e,n){"use strict";t.exports=function(){var t=Math.sign;return"function"==typeof t&&(1===t(10)&&-1===t(-20))}},function(t,e,n){"use strict";t.exports=function(t){return t=Number(t),isNaN(t)||0===t?t:t>0?1:-1}},function(t,e,n){"use strict";var r=n(1),a=n(7),o=n(4),i=n(33),u=n(13);t.exports=function t(e){var n,s,l;if(r(e),(n=Object(arguments[1])).async&&n.promise)throw new Error("Options 'async' and 'promise' cannot be used together");return hasOwnProperty.call(e,"__memoized__")&&!n.force?e:(s=u(n.length,e.length,n.async&&o.async),l=i(e,s,n),a(o,function(t,e){n[e]&&t(n[e],l,n)}),t.__profiler__&&t.__profiler__(l),l.updateEnv(),l.memoized)}},function(t,e,n){"use strict";var r=n(1),a=n(6),o=Function.prototype.bind,i=Function.prototype.call,u=Object.keys,s=Object.prototype.propertyIsEnumerable;t.exports=function(t,e){return function(n,l){var c,f=arguments[2],p=arguments[3];return n=Object(a(n)),r(l),c=u(n),p&&c.sort("function"==typeof p?o.call(p,n):void 0),"function"!=typeof t&&(t=c[t]),i.call(t,c,function(t,r){return s.call(n,t)?i.call(l,f,n[t],t,n,r):e})}}},function(t,e,n){"use strict";var r=n(34),a=n(15),o=n(5),i=n(48).methods,u=n(49),s=n(63),l=Function.prototype.apply,c=Function.prototype.call,f=Object.create,p=Object.defineProperties,d=i.on,h=i.emit;t.exports=function(t,e,n){var i,g,m,v,y,b,T,w,A,S,_,E,x,O,C,j=f(null);return g=!1!==e?e:isNaN(t.length)?1:t.length,n.normalizer&&(S=s(n.normalizer),m=S.get,v=S.set,y=S.delete,b=S.clear),null!=n.resolvers&&(C=u(n.resolvers)),O=m?a(function(e){var n,a,o=arguments;if(C&&(o=C(o)),null!==(n=m(o))&&hasOwnProperty.call(j,n))return _&&i.emit("get",n,o,this),j[n];if(a=1===o.length?c.call(t,this,o[0]):l.call(t,this,o),null===n){if(null!==(n=m(o)))throw r("Circular invocation","CIRCULAR_INVOCATION");n=v(o)}else if(hasOwnProperty.call(j,n))throw r("Circular invocation","CIRCULAR_INVOCATION");return j[n]=a,E&&i.emit("set",n,null,a),a},g):0===e?function(){var e;if(hasOwnProperty.call(j,"data"))return _&&i.emit("get","data",arguments,this),j.data;if(e=arguments.length?l.call(t,this,arguments):c.call(t,this),hasOwnProperty.call(j,"data"))throw r("Circular invocation","CIRCULAR_INVOCATION");return j.data=e,E&&i.emit("set","data",null,e),e}:function(e){var n,a,o=arguments;if(C&&(o=C(arguments)),a=String(o[0]),hasOwnProperty.call(j,a))return _&&i.emit("get",a,o,this),j[a];if(n=1===o.length?c.call(t,this,o[0]):l.call(t,this,o),hasOwnProperty.call(j,a))throw r("Circular invocation","CIRCULAR_INVOCATION");return j[a]=n,E&&i.emit("set",a,null,n),n},i={original:t,memoized:O,profileName:n.profileName,get:function(t){return C&&(t=C(t)),m?m(t):String(t[0])},has:function(t){return hasOwnProperty.call(j,t)},delete:function(t){var e;hasOwnProperty.call(j,t)&&(y&&y(t),e=j[t],delete j[t],x&&i.emit("delete",t,e))},clear:function(){var t=j;b&&b(),j=f(null),i.emit("clear",t)},on:function(t,e){return"get"===t?_=!0:"set"===t?E=!0:"delete"===t&&(x=!0),d.call(this,t,e)},emit:h,updateEnv:function(){t=i.original}},T=m?a(function(t){var e,n=arguments;C&&(n=C(n)),null!==(e=m(n))&&i.delete(e)},g):0===e?function(){return i.delete("data")}:function(t){return C&&(t=C(arguments)[0]),i.delete(t)},w=a(function(){var t,n=arguments;return 0===e?j.data:(C&&(n=C(n)),t=m?m(n):String(n[0]),j[t])}),A=a(function(){var t,n=arguments;return 0===e?i.has("data"):(C&&(n=C(n)),null!==(t=m?m(n):String(n[0]))&&i.has(t))}),p(O,{__memoized__:o(!0),delete:o(T),clear:o(i.clear),_get:o(w),_has:o(A)}),i}},function(t,e,n){"use strict";var r=n(14),a=n(40),o=n(2),i=Error.captureStackTrace;e=t.exports=function(t){var n=new Error(t),u=arguments[1],s=arguments[2];return o(s)||a(u)&&(s=u,u=null),o(s)&&r(n,s),o(u)&&(n.code=u),i&&i(n,e),n}},function(t,e,n){"use strict";t.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},function(t,e,n){"use strict";var r=n(37),a=n(6),o=Math.max;t.exports=function(t,e){var n,i,u,s=o(arguments.length,2);for(t=Object(a(t)),u=function(r){try{t[r]=e[r]}catch(t){n||(n=t)}},i=1;i<s;++i)e=arguments[i],r(e).forEach(u);if(void 0!==n)throw n;return t}},function(t,e,n){"use strict";t.exports=n(38)()?Object.keys:n(39)},function(t,e,n){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},function(t,e,n){"use strict";var r=n(2),a=Object.keys;t.exports=function(t){return a(r(t)?Object(t):t)}},function(t,e,n){"use strict";var r=n(2),a={function:!0,object:!0};t.exports=function(t){return r(t)&&a[typeof t]||!1}},function(t,e,n){"use strict";var r=n(42),a=/^\s*class[\s{\/}]/,o=Function.prototype.toString;t.exports=function(t){return!!r(t)&&!a.test(o.call(t))}},function(t,e,n){"use strict";var r=n(43);t.exports=function(t){if("function"!=typeof t)return!1;if(!hasOwnProperty.call(t,"length"))return!1;try{if("number"!=typeof t.length)return!1;if("function"!=typeof t.call)return!1;if("function"!=typeof t.apply)return!1}catch(t){return!1}return!r(t)}},function(t,e,n){"use strict";var r=n(44);t.exports=function(t){if(!r(t))return!1;try{return!!t.constructor&&t.constructor.prototype===t}catch(t){return!1}}},function(t,e,n){"use strict";var r=n(17),a={object:!0,function:!0,undefined:!0};t.exports=function(t){return!!r(t)&&hasOwnProperty.call(a,typeof t)}},function(t,e,n){"use strict";t.exports=n(46)()?String.prototype.contains:n(47)},function(t,e,n){"use strict";var r="razdwatrzy";t.exports=function(){return"function"==typeof r.contains&&(!0===r.contains("dwa")&&!1===r.contains("foo"))}},function(t,e,n){"use strict";var r=String.prototype.indexOf;t.exports=function(t){return r.call(this,t,arguments[1])>-1}},function(t,e,n){"use strict";var r,a,o,i,u,s,l,c=n(5),f=n(1),p=Function.prototype.apply,d=Function.prototype.call,h=Object.create,g=Object.defineProperty,m=Object.defineProperties,v=Object.prototype.hasOwnProperty,y={configurable:!0,enumerable:!1,writable:!0};a=function(t,e){var n,a;return f(e),a=this,r.call(this,t,n=function(){o.call(a,t,n),p.call(e,this,arguments)}),n.__eeOnceListener__=e,this},u={on:r=function(t,e){var n;return f(e),v.call(this,"__ee__")?n=this.__ee__:(n=y.value=h(null),g(this,"__ee__",y),y.value=null),n[t]?"object"==typeof n[t]?n[t].push(e):n[t]=[n[t],e]:n[t]=e,this},once:a,off:o=function(t,e){var n,r,a,o;if(f(e),!v.call(this,"__ee__"))return this;if(!(n=this.__ee__)[t])return this;if("object"==typeof(r=n[t]))for(o=0;a=r[o];++o)a!==e&&a.__eeOnceListener__!==e||(2===r.length?n[t]=r[o?0:1]:r.splice(o,1));else r!==e&&r.__eeOnceListener__!==e||delete n[t];return this},emit:i=function(t){var e,n,r,a,o;if(v.call(this,"__ee__")&&(a=this.__ee__[t]))if("object"==typeof a){for(n=arguments.length,o=new Array(n-1),e=1;e<n;++e)o[e-1]=arguments[e];for(a=a.slice(),e=0;r=a[e];++e)p.call(r,this,o)}else switch(arguments.length){case 1:d.call(a,this);break;case 2:d.call(a,this,arguments[1]);break;case 3:d.call(a,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,o=new Array(n-1),e=1;e<n;++e)o[e-1]=arguments[e];p.call(a,this,o)}}},s={on:c(r),once:c(a),off:c(o),emit:c(i)},l=m({},s),t.exports=e=function(t){return null==t?h(l):m(Object(t),s)},e.methods=u},function(t,e,n){"use strict";var r,a=n(50),o=n(2),i=n(1),u=Array.prototype.slice;r=function(t){return this.map(function(e,n){return e?e(t[n]):t[n]}).concat(u.call(t,this.length))},t.exports=function(t){return(t=a(t)).forEach(function(t){o(t)&&i(t)}),r.bind(t)}},function(t,e,n){"use strict";var r=n(9),a=Array.isArray;t.exports=function(t){return a(t)?t:r(t)}},function(t,e,n){"use strict";t.exports=function(){var t,e,n=Array.from;return"function"==typeof n&&(e=n(t=["raz","dwa"]),Boolean(e&&e!==t&&"dwa"===e[1]))}},function(t,e,n){"use strict";var r=n(53).iterator,a=n(60),o=n(61),i=n(3),u=n(1),s=n(6),l=n(2),c=n(62),f=Array.isArray,p=Function.prototype.call,d={configurable:!0,enumerable:!0,writable:!0,value:null},h=Object.defineProperty;t.exports=function(t){var e,n,g,m,v,y,b,T,w,A,S=arguments[1],_=arguments[2];if(t=Object(s(t)),l(S)&&u(S),this&&this!==Array&&o(this))e=this;else{if(!S){if(a(t))return 1!==(v=t.length)?Array.apply(null,t):((m=new Array(1))[0]=t[0],m);if(f(t)){for(m=new Array(v=t.length),n=0;n<v;++n)m[n]=t[n];return m}}m=[]}if(!f(t))if(void 0!==(w=t[r])){for(b=u(w).call(t),e&&(m=new e),T=b.next(),n=0;!T.done;)A=S?p.call(S,_,T.value,n):T.value,e?(d.value=A,h(m,n,d)):m[n]=A,T=b.next(),++n;v=n}else if(c(t)){for(v=t.length,e&&(m=new e),n=0,g=0;n<v;++n)A=t[n],n+1<v&&(y=A.charCodeAt(0))>=55296&&y<=56319&&(A+=t[++n]),A=S?p.call(S,_,A,g):A,e?(d.value=A,h(m,g,d)):m[g]=A,++g;v=g}if(void 0===v)for(v=i(t.length),e&&(m=new e(v)),n=0;n<v;++n)A=S?p.call(S,_,t[n],n):t[n],e?(d.value=A,h(m,n,d)):m[n]=A;return e&&(d.value=null,m.length=v),m}},function(t,e,n){"use strict";t.exports=n(54)()?n(8).Symbol:n(55)},function(t,e,n){"use strict";var r=n(8),a={object:!0,symbol:!0};t.exports=function(){var t,e=r.Symbol;if("function"!=typeof e)return!1;t=e("test symbol");try{String(t)}catch(t){return!1}return!!a[typeof e.iterator]&&(!!a[typeof e.toPrimitive]&&!!a[typeof e.toStringTag])}},function(t,e,n){"use strict";var r,a,o,i=n(5),u=n(18),s=n(8).Symbol,l=n(57),c=n(58),f=n(59),p=Object.create,d=Object.defineProperties,h=Object.defineProperty;if("function"==typeof s)try{String(s()),o=!0}catch(t){}else s=null;a=function(t){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return r(t)},t.exports=r=function t(e){var n;if(this instanceof t)throw new TypeError("Symbol is not a constructor");return o?s(e):(n=p(a.prototype),e=void 0===e?"":String(e),d(n,{__description__:i("",e),__name__:i("",l(e))}))},c(r),f(r),d(a.prototype,{constructor:i(r),toString:i("",function(){return this.__name__})}),d(r.prototype,{toString:i(function(){return"Symbol ("+u(this).__description__+")"}),valueOf:i(function(){return u(this)})}),h(r.prototype,r.toPrimitive,i("",function(){var t=u(this);return"symbol"==typeof t?t:t.toString()})),h(r.prototype,r.toStringTag,i("c","Symbol")),h(a.prototype,r.toStringTag,i("c",r.prototype[r.toStringTag])),h(a.prototype,r.toPrimitive,i("c",r.prototype[r.toPrimitive]))},function(t,e,n){"use strict";t.exports=function(t){return!!t&&("symbol"==typeof t||!!t.constructor&&("Symbol"===t.constructor.name&&"Symbol"===t[t.constructor.toStringTag]))}},function(t,e,n){"use strict";var r=n(5),a=Object.create,o=Object.defineProperty,i=Object.prototype,u=a(null);t.exports=function(t){for(var e,n,a=0;u[t+(a||"")];)++a;return u[t+=a||""]=!0,o(i,e="@@"+t,r.gs(null,function(t){n||(n=!0,o(this,e,r(t)),n=!1)})),e}},function(t,e,n){"use strict";var r=n(5),a=n(8).Symbol;t.exports=function(t){return Object.defineProperties(t,{hasInstance:r("",a&&a.hasInstance||t("hasInstance")),isConcatSpreadable:r("",a&&a.isConcatSpreadable||t("isConcatSpreadable")),iterator:r("",a&&a.iterator||t("iterator")),match:r("",a&&a.match||t("match")),replace:r("",a&&a.replace||t("replace")),search:r("",a&&a.search||t("search")),species:r("",a&&a.species||t("species")),split:r("",a&&a.split||t("split")),toPrimitive:r("",a&&a.toPrimitive||t("toPrimitive")),toStringTag:r("",a&&a.toStringTag||t("toStringTag")),unscopables:r("",a&&a.unscopables||t("unscopables"))})}},function(t,e,n){"use strict";var r=n(5),a=n(18),o=Object.create(null);t.exports=function(t){return Object.defineProperties(t,{for:r(function(e){return o[e]?o[e]:o[e]=t(String(e))}),keyFor:r(function(t){var e;for(e in a(t),o)if(o[e]===t)return e})})}},function(t,e,n){"use strict";var r=Object.prototype.toString,a=r.call(function(){return arguments}());t.exports=function(t){return r.call(t)===a}},function(t,e,n){"use strict";var r=Object.prototype.toString,a=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);t.exports=function(t){return"function"==typeof t&&a(r.call(t))}},function(t,e,n){"use strict";var r=Object.prototype.toString,a=r.call("");t.exports=function(t){return"string"==typeof t||t&&"object"==typeof t&&(t instanceof String||r.call(t)===a)||!1}},function(t,e,n){"use strict";var r=n(1);t.exports=function(t){var e;return"function"==typeof t?{set:t,get:t}:(e={get:r(t.get)},void 0!==t.set?(e.set=r(t.set),t.delete&&(e.delete=r(t.delete)),t.clear&&(e.clear=r(t.clear)),e):(e.set=e.get,e))}},function(t,e,n){"use strict";t.exports=function(t){var e,n,r=t.length;if(!r)return"";for(e=String(t[n=0]);--r;)e+=""+t[++n];return e}},function(t,e,n){"use strict";t.exports=function(t){return t?function(e){for(var n=String(e[0]),r=0,a=t;--a;)n+=""+e[++r];return n}:function(){return""}}},function(t,e,n){"use strict";var r=n(10),a=Object.create;t.exports=function(){var t=0,e=[],n=a(null);return{get:function(t){var n,a=0,o=e,i=t.length;if(0===i)return o[i]||null;if(o=o[i]){for(;a<i-1;){if(-1===(n=r.call(o[0],t[a])))return null;o=o[1][n],++a}return-1===(n=r.call(o[0],t[a]))?null:o[1][n]||null}return null},set:function(a){var o,i=0,u=e,s=a.length;if(0===s)u[s]=++t;else{for(u[s]||(u[s]=[[],[]]),u=u[s];i<s-1;)-1===(o=r.call(u[0],a[i]))&&(o=u[0].push(a[i])-1,u[1].push([[],[]])),u=u[1][o],++i;-1===(o=r.call(u[0],a[i]))&&(o=u[0].push(a[i])-1),u[1][o]=++t}return n[t]=a,t},delete:function(t){var a,o=0,i=e,u=n[t],s=u.length,l=[];if(0===s)delete i[s];else if(i=i[s]){for(;o<s-1;){if(-1===(a=r.call(i[0],u[o])))return;l.push(i,a),i=i[1][a],++o}if(-1===(a=r.call(i[0],u[o])))return;for(t=i[1][a],i[0].splice(a,1),i[1].splice(a,1);!i[0].length&&l.length;)a=l.pop(),(i=l.pop())[0].splice(a,1),i[1].splice(a,1)}delete n[t]},clear:function(){e=[],n=a(null)}}}},function(t,e,n){"use strict";t.exports=n(68)()?Number.isNaN:n(69)},function(t,e,n){"use strict";t.exports=function(){var t=Number.isNaN;return"function"==typeof t&&(!t({})&&t(NaN)&&!t(34))}},function(t,e,n){"use strict";t.exports=function(t){return t!=t}},function(t,e,n){"use strict";var r=n(10);t.exports=function(){var t=0,e=[],n=[];return{get:function(t){var a=r.call(e,t[0]);return-1===a?null:n[a]},set:function(r){return e.push(r[0]),n.push(++t),t},delete:function(t){var a=r.call(n,t);-1!==a&&(e.splice(a,1),n.splice(a,1))},clear:function(){e=[],n=[]}}}},function(t,e,n){"use strict";var r=n(10),a=Object.create;t.exports=function(t){var e=0,n=[[],[]],o=a(null);return{get:function(e){for(var a,o=0,i=n;o<t-1;){if(-1===(a=r.call(i[0],e[o])))return null;i=i[1][a],++o}return-1===(a=r.call(i[0],e[o]))?null:i[1][a]||null},set:function(a){for(var i,u=0,s=n;u<t-1;)-1===(i=r.call(s[0],a[u]))&&(i=s[0].push(a[u])-1,s[1].push([[],[]])),s=s[1][i],++u;return-1===(i=r.call(s[0],a[u]))&&(i=s[0].push(a[u])-1),s[1][i]=++e,o[e]=a,e},delete:function(e){for(var a,i=0,u=n,s=[],l=o[e];i<t-1;){if(-1===(a=r.call(u[0],l[i])))return;s.push(u,a),u=u[1][a],++i}if(-1!==(a=r.call(u[0],l[i]))){for(e=u[1][a],u[0].splice(a,1),u[1].splice(a,1);!u[0].length&&s.length;)a=s.pop(),(u=s.pop())[0].splice(a,1),u[1].splice(a,1);delete o[e]}},clear:function(){n=[[],[]],o=a(null)}}}},function(t,e,n){"use strict";var r=n(9),a=n(19),o=n(16),i=n(15),u=n(11),s=Array.prototype.slice,l=Function.prototype.apply,c=Object.create;n(4).async=function(t,e){var n,f,p,d=c(null),h=c(null),g=e.memoized,m=e.original;e.memoized=i(function(t){var e=arguments,r=e[e.length-1];return"function"==typeof r&&(n=r,e=s.call(e,0,-1)),g.apply(f=this,p=e)},g);try{o(e.memoized,g)}catch(t){}e.on("get",function(t){var r,a,o;if(n){if(d[t])return"function"==typeof d[t]?d[t]=[d[t],n]:d[t].push(n),void(n=null);r=n,a=f,o=p,n=f=p=null,u(function(){var i;hasOwnProperty.call(h,t)?(i=h[t],e.emit("getasync",t,o,a),l.call(r,i.context,i.args)):(n=r,f=a,p=o,g.apply(a,o))})}}),e.original=function(){var t,a,o,i;return n?(t=r(arguments),a=function t(n){var a,o,s=t.id;if(null!=s){if(delete t.id,a=d[s],delete d[s],a)return o=r(arguments),e.has(s)&&(n?e.delete(s):(h[s]={context:this,args:o},e.emit("setasync",s,"function"==typeof a?1:a.length))),"function"==typeof a?i=l.call(a,this,o):a.forEach(function(t){i=l.call(t,this,o)},this),i}else u(l.bind(t,this,arguments))},o=n,n=f=p=null,t.push(a),i=l.call(m,this,t),a.cb=o,n=a,i):l.call(m,this,arguments)},e.on("set",function(t){n?(d[t]?"function"==typeof d[t]?d[t]=[d[t],n.cb]:d[t].push(n.cb):d[t]=n.cb,delete n.cb,n.id=t,n=null):e.delete(t)}),e.on("delete",function(t){var n;hasOwnProperty.call(d,t)||h[t]&&(n=h[t],delete h[t],e.emit("deleteasync",t,s.call(n.args,1)))}),e.on("clear",function(){var t=h;h=c(null),e.emit("clearasync",a(t,function(t){return s.call(t.args,1)}))})}},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,a=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(a.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(a.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(74),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(21))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,a,o,i,u,s=1,l={},c=!1,f=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){h(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){h(t.data)},r=function(t){o.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(a=f.documentElement,r=function(t){var e=f.createElement("script");e.onreadystatechange=function(){h(t),e.onreadystatechange=null,a.removeChild(e),e=null},a.appendChild(e)}):r=function(t){setTimeout(h,0,t)}:(i="setImmediate$"+Math.random()+"$",u=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(i)&&h(+e.data.slice(i.length))},t.addEventListener?t.addEventListener("message",u,!1):t.attachEvent("onmessage",u),r=function(e){t.postMessage(i+e,"*")}),p.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var a={callback:t,args:e};return l[s]=a,r(s),s++},p.clearImmediate=d}function d(t){delete l[t]}function h(t){if(c)setTimeout(h,0,t);else{var e=l[t];if(e){c=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{d(t),c=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(21),n(20))},function(t,e,n){"use strict";var r=n(19),a=n(76),o=n(77),i=n(79),u=n(23),s=n(11),l=Object.create,c=a("then","then:finally","done","done:finally");n(4).promise=function(t,e){var n=l(null),a=l(null),f=l(null);if(!0===t)t=null;else if(t=o(t),!c[t])throw new TypeError("'"+i(t)+"' is not valid promise mode");e.on("set",function(r,o,i){var l=!1;if(!u(i))return a[r]=i,void e.emit("setasync",r,1);n[r]=1,f[r]=i;var c=function(t){var o=n[r];if(l)throw new Error("Memoizee error: Detected unordered then|done & finally resolution, which in turn makes proper detection of success/failure impossible (when in 'done:finally' mode)\nConsider to rely on 'then' or 'done' mode instead.");o&&(delete n[r],a[r]=t,e.emit("setasync",r,o))},p=function(){l=!0,n[r]&&(delete n[r],delete f[r],e.delete(r))},d=t;if(d||(d="then"),"then"===d){var h=function(){s(p)};"function"==typeof(i=i.then(function(t){s(c.bind(this,t))},h)).finally&&i.finally(h)}else if("done"===d){if("function"!=typeof i.done)throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done' mode");i.done(c,p)}else if("done:finally"===d){if("function"!=typeof i.done)throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done:finally' mode");if("function"!=typeof i.finally)throw new Error("Memoizee error: Retrieved promise does not implement 'finally' in 'done:finally' mode");i.done(c),i.finally(p)}}),e.on("get",function(t,r,a){var o;if(n[t])++n[t];else{o=f[t];var i=function(){e.emit("getasync",t,r,a)};u(o)?"function"==typeof o.done?o.done(i):o.then(function(){s(i)}):i()}}),e.on("delete",function(t){if(delete f[t],n[t])delete n[t];else if(hasOwnProperty.call(a,t)){var r=a[t];delete a[t],e.emit("deleteasync",t,[r])}}),e.on("clear",function(){var t=a;a=l(null),n=l(null),f=l(null),e.emit("clearasync",r(t,function(t){return[t]}))})}},function(t,e,n){"use strict";var r=Array.prototype.forEach,a=Object.create;t.exports=function(t){var e=a(null);return r.call(arguments,function(t){e[t]=!0}),e}},function(t,e,n){"use strict";var r=n(6),a=n(78);t.exports=function(t){return a(r(t))}},function(t,e,n){"use strict";var r=n(22);t.exports=function(t){try{return t&&r(t.toString)?t.toString():String(t)}catch(t){throw new TypeError("Passed argument cannot be stringifed")}}},function(t,e,n){"use strict";var r=n(80),a=/[\n\r\u2028\u2029]/g;t.exports=function(t){var e=r(t);return e.length>100&&(e=e.slice(0,99)+"…"),e=e.replace(a,function(t){return JSON.stringify(t).slice(1,-1)})}},function(t,e,n){"use strict";var r=n(22);t.exports=function(t){try{return t&&r(t.toString)?t.toString():String(t)}catch(t){return"<Non-coercible to string value>"}}},function(t,e,n){"use strict";var r=n(1),a=n(7),o=n(4),i=Function.prototype.apply;o.dispose=function(t,e,n){var u;if(r(t),n.async&&o.async||n.promise&&o.promise)return e.on("deleteasync",u=function(e,n){i.call(t,null,n)}),void e.on("clearasync",function(t){a(t,function(t,e){u(e,t)})});e.on("delete",u=function(e,n){t(n)}),e.on("clear",function(t){a(t,function(t,e){u(e,t)})})}},function(t,e,n){"use strict";var r=n(9),a=n(7),o=n(11),i=n(23),u=n(83),s=n(4),l=Function.prototype,c=Math.max,f=Math.min,p=Object.create;s.maxAge=function(t,e,n){var d,h,g,m;(t=u(t))&&(d=p(null),h=n.async&&s.async||n.promise&&s.promise?"async":"",e.on("set"+h,function(n){d[n]=setTimeout(function(){e.delete(n)},t),"function"==typeof d[n].unref&&d[n].unref(),m&&(m[n]&&"nextTick"!==m[n]&&clearTimeout(m[n]),m[n]=setTimeout(function(){delete m[n]},g),"function"==typeof m[n].unref&&m[n].unref())}),e.on("delete"+h,function(t){clearTimeout(d[t]),delete d[t],m&&("nextTick"!==m[t]&&clearTimeout(m[t]),delete m[t])}),n.preFetch&&(g=!0===n.preFetch||isNaN(n.preFetch)?.333:c(f(Number(n.preFetch),1),0))&&(m={},g=(1-g)*t,e.on("get"+h,function(t,a,u){m[t]||(m[t]="nextTick",o(function(){var o;"nextTick"===m[t]&&(delete m[t],e.delete(t),n.async&&(a=r(a)).push(l),o=e.memoized.apply(u,a),n.promise&&i(o)&&("function"==typeof o.done?o.done(l,l):o.then(l,l)))}))})),e.on("clear"+h,function(){a(d,function(t){clearTimeout(t)}),d={},m&&(a(m,function(t){"nextTick"!==t&&clearTimeout(t)}),m={})}))}},function(t,e,n){"use strict";var r=n(3),a=n(84);t.exports=function(t){if((t=r(t))>a)throw new TypeError(t+" exceeds maximum possible timeout");return t}},function(t,e,n){"use strict";t.exports=2147483647},function(t,e,n){"use strict";var r=n(3),a=n(86),o=n(4);o.max=function(t,e,n){var i,u,s;(t=r(t))&&(u=a(t),i=n.async&&o.async||n.promise&&o.promise?"async":"",e.on("set"+i,s=function(t){void 0!==(t=u.hit(t))&&e.delete(t)}),e.on("get"+i,s),e.on("delete"+i,u.delete),e.on("clear"+i,u.clear))}},function(t,e,n){"use strict";var r=n(3),a=Object.create,o=Object.prototype.hasOwnProperty;t.exports=function(t){var e,n=0,i=1,u=a(null),s=a(null),l=0;return t=r(t),{hit:function(r){var a=s[r],c=++l;if(u[c]=r,s[r]=c,!a){if(++n<=t)return;return r=u[i],e(r),r}if(delete u[a],i===a)for(;!o.call(u,++i);)continue},delete:e=function(t){var e=s[t];if(e&&(delete u[e],delete s[t],--n,i===e)){if(!n)return l=0,void(i=1);for(;!o.call(u,++i);)continue}},clear:function(){n=0,i=1,u=a(null),s=a(null),l=0}}}},function(t,e,n){"use strict";var r=n(5),a=n(4),o=Object.create,i=Object.defineProperties;a.refCounter=function(t,e,n){var u,s;u=o(null),s=n.async&&a.async||n.promise&&a.promise?"async":"",e.on("set"+s,function(t,e){u[t]=e||1}),e.on("get"+s,function(t){++u[t]}),e.on("delete"+s,function(t){delete u[t]}),e.on("clear"+s,function(){u={}}),i(e.memoized,{deleteRef:r(function(){var t=e.get(arguments);return null===t?null:u[t]?!--u[t]&&(e.delete(t),!0):null}),getRefCount:r(function(){var t=e.get(arguments);return null===t?0:u[t]?u[t]:0})})}},function(t,e,n){var r=n(89);"string"==typeof r&&(r=[[t.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(91)(r,a);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(90)(!0)).push([t.i,'.min-width-10 {\n  min-width: 10rem; }\n\n.min-width-12 {\n  min-width: 12rem; }\n\n.min-width-20 {\n  min-width: 20rem; }\n\n.gf-form-select-wrapper select.gf-form-input {\n  height: 2.64rem; }\n\n.gf-form-select-wrapper--caret-indent.gf-form-select-wrapper::after {\n  right: 0.775rem; }\n\n.ml-1 {\n  margin-left: 2px !important; }\n\n.join-r .gf-form-label {\n  margin-right: 0; }\n\n.join-l .gf-form-label {\n  border-left-width: 0;\n  border-radius: 0; }\n\n.mash-r .gf-form-label {\n  padding-right: 0; }\n\n.mash-l .gf-form-label {\n  padding-left: 0; }\n\n.irondb-tag-op .gf-form-label,\n.irondb-tag-end .gf-form-label {\n  color: #eb7b18; }\n\n.irondb-tag-cat .gf-form-label {\n  color: #598; }\n\n.irondb-tag-val .gf-form-label {\n  color: #5ca; }\n\n.irondb-tag-pair .gf-form-label,\n.irondb-tag-sep .gf-form-label {\n  color: #888; }\n\n.irondb-tag-op .gf-form-label:focus,\n.irondb-tag-op .gf-form-label:hover,\n.irondb-tag-cat .gf-form-label:focus,\n.irondb-tag-cat .gf-form-label:hover,\n.irondb-tag-val .gf-form-label:focus,\n.irondb-tag-val .gf-form-label:hover,\n.gf-form-label:focus .template-variable,\n.gf-form-label:hover .template-variable {\n  color: #fff; }\n\n/* menu item color changes */\n.irondb-tag-op .typeahead.dropdown-menu [data-value="REMOVE"] a {\n  color: #bb002c !important; }\n\n.irondb-tag-val .typeahead.dropdown-menu [data-value^="$"] a {\n  color: #33b5e5 !important; }\n\n.irondb-tag-op .typeahead.dropdown-menu [data-value="or("] a,\n.irondb-tag-op .typeahead.dropdown-menu [data-value="not("] a,\n.irondb-tag-op .typeahead.dropdown-menu [data-value="and("] a,\n.irondb-tag-plus .typeahead.dropdown-menu [data-value="or("] a,\n.irondb-tag-plus .typeahead.dropdown-menu [data-value="not("] a,\n.irondb-tag-plus .typeahead.dropdown-menu [data-value="and("] a {\n  color: #eb7b18 !important; }\n\n.irondb-tag-op .typeahead.dropdown-menu [data-value="REMOVE"] a:focus,\n.irondb-tag-op .typeahead.dropdown-menu [data-value="REMOVE"] a:hover,\n.irondb-tag-val .typeahead.dropdown-menu [data-value^="$"] a:focus,\n.irondb-tag-val .typeahead.dropdown-menu [data-value^="$"] a:hover,\n.irondb-tag-op .typeahead.dropdown-menu [data-value="or("] a:focus,\n.irondb-tag-op .typeahead.dropdown-menu [data-value="or("] a:hover,\n.irondb-tag-op .typeahead.dropdown-menu [data-value="not("] a:focus,\n.irondb-tag-op .typeahead.dropdown-menu [data-value="not("] a:hover,\n.irondb-tag-op .typeahead.dropdown-menu [data-value="and("] a:focus,\n.irondb-tag-op .typeahead.dropdown-menu [data-value="and("] a:hover,\n.irondb-tag-plus .typeahead.dropdown-menu [data-value="or("] a:focus,\n.irondb-tag-plus .typeahead.dropdown-menu [data-value="or("] a:hover,\n.irondb-tag-plus .typeahead.dropdown-menu [data-value="not("] a:focus,\n.irondb-tag-plus .typeahead.dropdown-menu [data-value="not("] a:hover,\n.irondb-tag-plus .typeahead.dropdown-menu [data-value="and("] a:focus,\n.irondb-tag-plus .typeahead.dropdown-menu [data-value="and("] a:hover {\n  color: #fff !important; }\n',"",{version:3,sources:["query_editor.css"],names:[],mappings:"AAAA;EACE,gBAAgB,EAAE;;AAEpB;EACE,gBAAgB,EAAE;;AAEpB;EACE,gBAAgB,EAAE;;AAEpB;EACE,eAAe,EAAE;;AAEnB;EACE,eAAe,EAAE;;AAEnB;EACE,2BAA2B,EAAE;;AAE/B;EACE,eAAe,EAAE;;AAEnB;EACE,oBAAoB;EACpB,gBAAgB,EAAE;;AAEpB;EACE,gBAAgB,EAAE;;AAEpB;EACE,eAAe,EAAE;;AAEnB;;EAEE,cAAc,EAAE;;AAElB;EACE,WAAW,EAAE;;AAEf;EACE,WAAW,EAAE;;AAEf;;EAEE,WAAW,EAAE;;AAEf;;;;;;;;EAQE,WAAW,EAAE;;AAEf,4BAA4B;AAC5B;EACE,yBAAyB,EAAE;;AAE7B;EACE,yBAAyB,EAAE;;AAE7B;;;;;;EAME,yBAAyB,EAAE;;AAE7B;;;;;;;;;;;;;;;;EAgBE,sBAAsB,EAAE",file:"query_editor.css",sourcesContent:['.min-width-10 {\n  min-width: 10rem; }\n\n.min-width-12 {\n  min-width: 12rem; }\n\n.min-width-20 {\n  min-width: 20rem; }\n\n.gf-form-select-wrapper select.gf-form-input {\n  height: 2.64rem; }\n\n.gf-form-select-wrapper--caret-indent.gf-form-select-wrapper::after {\n  right: 0.775rem; }\n\n.ml-1 {\n  margin-left: 2px !important; }\n\n.join-r .gf-form-label {\n  margin-right: 0; }\n\n.join-l .gf-form-label {\n  border-left-width: 0;\n  border-radius: 0; }\n\n.mash-r .gf-form-label {\n  padding-right: 0; }\n\n.mash-l .gf-form-label {\n  padding-left: 0; }\n\n.irondb-tag-op .gf-form-label,\n.irondb-tag-end .gf-form-label {\n  color: #eb7b18; }\n\n.irondb-tag-cat .gf-form-label {\n  color: #598; }\n\n.irondb-tag-val .gf-form-label {\n  color: #5ca; }\n\n.irondb-tag-pair .gf-form-label,\n.irondb-tag-sep .gf-form-label {\n  color: #888; }\n\n.irondb-tag-op .gf-form-label:focus,\n.irondb-tag-op .gf-form-label:hover,\n.irondb-tag-cat .gf-form-label:focus,\n.irondb-tag-cat .gf-form-label:hover,\n.irondb-tag-val .gf-form-label:focus,\n.irondb-tag-val .gf-form-label:hover,\n.gf-form-label:focus .template-variable,\n.gf-form-label:hover .template-variable {\n  color: #fff; }\n\n/* menu item color changes */\n.irondb-tag-op .typeahead.dropdown-menu [data-value="REMOVE"] a {\n  color: #bb002c !important; }\n\n.irondb-tag-val .typeahead.dropdown-menu [data-value^="$"] a {\n  color: #33b5e5 !important; }\n\n.irondb-tag-op .typeahead.dropdown-menu [data-value="or("] a,\n.irondb-tag-op .typeahead.dropdown-menu [data-value="not("] a,\n.irondb-tag-op .typeahead.dropdown-menu [data-value="and("] a,\n.irondb-tag-plus .typeahead.dropdown-menu [data-value="or("] a,\n.irondb-tag-plus .typeahead.dropdown-menu [data-value="not("] a,\n.irondb-tag-plus .typeahead.dropdown-menu [data-value="and("] a {\n  color: #eb7b18 !important; }\n\n.irondb-tag-op .typeahead.dropdown-menu [data-value="REMOVE"] a:focus,\n.irondb-tag-op .typeahead.dropdown-menu [data-value="REMOVE"] a:hover,\n.irondb-tag-val .typeahead.dropdown-menu [data-value^="$"] a:focus,\n.irondb-tag-val .typeahead.dropdown-menu [data-value^="$"] a:hover,\n.irondb-tag-op .typeahead.dropdown-menu [data-value="or("] a:focus,\n.irondb-tag-op .typeahead.dropdown-menu [data-value="or("] a:hover,\n.irondb-tag-op .typeahead.dropdown-menu [data-value="not("] a:focus,\n.irondb-tag-op .typeahead.dropdown-menu [data-value="not("] a:hover,\n.irondb-tag-op .typeahead.dropdown-menu [data-value="and("] a:focus,\n.irondb-tag-op .typeahead.dropdown-menu [data-value="and("] a:hover,\n.irondb-tag-plus .typeahead.dropdown-menu [data-value="or("] a:focus,\n.irondb-tag-plus .typeahead.dropdown-menu [data-value="or("] a:hover,\n.irondb-tag-plus .typeahead.dropdown-menu [data-value="not("] a:focus,\n.irondb-tag-plus .typeahead.dropdown-menu [data-value="not("] a:hover,\n.irondb-tag-plus .typeahead.dropdown-menu [data-value="and("] a:focus,\n.irondb-tag-plus .typeahead.dropdown-menu [data-value="and("] a:hover {\n  color: #fff !important; }\n']}])},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var a=(i=r,u=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(u),"/*# ".concat(s," */")),o=r.sources.map(function(t){return"/*# sourceURL=".concat(r.sourceRoot).concat(t," */")});return[n].concat(o).concat([a]).join("\n")}var i,u,s;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2],"{").concat(n,"}"):n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},a=0;a<this.length;a++){var o=this[a][0];null!=o&&(r[o]=!0)}for(var i=0;i<t.length;i++){var u=t[i];null!=u[0]&&r[u[0]]||(n&&!u[2]?u[2]=n:n&&(u[2]="(".concat(u[2],") and (").concat(n,")")),e.push(u))}},e}},function(t,e,n){var r,a,o={},i=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===a&&(a=r.apply(this,arguments)),a}),u=function(t,e){return e?e.querySelector(t):document.querySelector(t)},s=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=u.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),l=null,c=0,f=[],p=n(92);function d(t,e){for(var n=0;n<t.length;n++){var r=t[n],a=o[r.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](r.parts[i]);for(;i<r.parts.length;i++)a.parts.push(b(r.parts[i],e))}else{var u=[];for(i=0;i<r.parts.length;i++)u.push(b(r.parts[i],e));o[r.id]={id:r.id,refs:1,parts:u}}}}function h(t,e){for(var n=[],r={},a=0;a<t.length;a++){var o=t[a],i=e.base?o[0]+e.base:o[0],u={css:o[1],media:o[2],sourceMap:o[3]};r[i]?r[i].parts.push(u):n.push(r[i]={id:i,parts:[u]})}return n}function g(t,e){var n=s(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=f[f.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),f.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var a=s(t.insertAt.before,n);n.insertBefore(e,a)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=f.indexOf(t);e>=0&&f.splice(e,1)}function v(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=function(){0;return n.nc}();r&&(t.attrs.nonce=r)}return y(e,t.attrs),g(t,e),e}function y(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function b(t,e){var n,r,a,o;if(e.transform&&t.css){if(!(o="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=o}if(e.singleton){var i=c++;n=l||(l=v(e)),r=A.bind(null,n,i,!1),a=A.bind(null,n,i,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",y(e,t.attrs),g(t,e),e}(e),r=_.bind(null,n,e),a=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(e),r=S.bind(null,n),a=function(){m(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else a()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=i()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=h(t,e);return d(n,e),function(t){for(var r=[],a=0;a<n.length;a++){var i=n[a];(u=o[i.id]).refs--,r.push(u)}t&&d(h(t,e),e);for(a=0;a<r.length;a++){var u;if(0===(u=r[a]).refs){for(var s=0;s<u.parts.length;s++)u.parts[s]();delete o[u.id]}}}};var T,w=(T=[],function(t,e){return T[t]=e,T.filter(Boolean).join("\n")});function A(t,e,n,r){var a=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=w(e,a);else{var o=document.createTextNode(a),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(o,i[e]):t.appendChild(o)}}function S(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function _(t,e,n){var r=n.css,a=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&a;(e.convertToAbsoluteUrls||o)&&(r=p(r)),a&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var i=new Blob([r],{type:"text/css"}),u=t.href;t.href=URL.createObjectURL(i),u&&URL.revokeObjectURL(u)}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var a,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(a=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(a)+")")})}},function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(24),i=n.n(o),u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var s;function l(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,a,o=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(t){a={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i}function f(t,e){var n,r;void 0===e&&(e=!0);var o={};try{for(var i=l(t.split(/,/g)),u=i.next();!u.done;u=i.next()){var s=u.value.split(/:/g),c=s.shift(),f=s.join(":");e&&(c=S(c),f=S(f));var p=o[c];a.a.isUndefined(p)&&(o[c]=p=[]),p.push(f)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o}function p(t){var e="",n=t.indexOf("ST[");return-1!=n&&(e=t.substring(n+3,t.length-1),t=t.substring(0,n-1)),[t,e]}function d(t){return p(t)[0]}!function(t){t[t.MetricName=0]="MetricName",t[t.TagCat=1]="TagCat",t[t.TagVal=2]="TagVal",t[t.TagPair=3]="TagPair",t[t.TagSep=4]="TagSep",t[t.TagEnd=5]="TagEnd",t[t.TagOp=6]="TagOp",t[t.TagPlus=7]="TagPlus"}(s||(s={}));var h={};function g(t,e){for(var n=0,r=new Map,a=0;a<t.length;a++){var o=c(p(t[a].metric_name),2),i=(o[0],f(o[1])),u=void 0!==i[e]?i[e][0]:h;void 0===r.get(u)&&(n+=1),r.set(u,!0)}return n>1}function m(t,e,n){var r=e[n],o=t.replace(/%d/g,(n+1).toString());return o=(o=(o=(o=o.replace(/%n/g,d(r.metric_name))).replace(/%cn/g,r.metric_name)).replace(/%tv-?{([^}]*)}/g,function(t){var n,o,i=t.substring(3,4),u="-"===i?g:function(){return!0},s=t.substring("-"===i?5:4,t.length-1),d=c(p(r.metric_name),2),h=(d[0],f(d[1]));if("*"===s){var m=[];try{for(var v=l(a.a.keys(h)),y=v.next();!y.done;y=v.next()){var b=y.value;!b.startsWith("__")&&u(e,b)&&m.push(b)}}catch(t){n={error:t}}finally{try{y&&!y.done&&(o=v.return)&&o.call(v)}finally{if(n)throw n.error}}return m.sort(),a.a.map(m,function(t){return h[t][0]}).join(",")}return void 0!==h[s]&&u(e,s)?h[s][0]:""})).replace(/%t-?{([^}]*)}/g,function(t){var n,o,i=t.substring(2,3),u="-"===i?g:function(){return!0},s=t.substring("-"===i?4:3,t.length-1),d=c(p(r.metric_name),2),h=(d[0],f(d[1]));if("*"===s){var m=[];try{for(var v=l(a.a.keys(h)),y=v.next();!y.done;y=v.next()){var b=y.value;if(!b.startsWith("__")&&u(e,b)){var T=h[b][0];m.push(b+":"+T)}}}catch(t){n={error:t}}finally{try{y&&!y.done&&(o=v.return)&&o.call(v)}finally{if(n)throw n.error}}return m.sort(),m.join(",")}return void 0!==h[s]&&u(e,s)?s+":"+h[s][0]:""})}var v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function b(t){return 1==v[t]}function T(t){return 1==y[t]}function w(t,e){for(var n=0,r=0;r<t.length;r++){e(t.charCodeAt(r))&&(n+=1)}return n===t.length}function A(t,e,n){void 0===n&&(n=!0),t===s.MetricName&&(t=s.TagVal);var r=!1;if((t!==s.TagCat||function(t){return w(t,b)}(e))&&(t!==s.TagVal||function(t){return w(t,T)}(e)||1===e.length&&"*"===e.charAt(0))||(r=!0),r){var a='"';n&&(a="!"),e=["b",a,btoa(e),a].join("")}return e}function S(t){return(t.startsWith('b"')&&t.endsWith('"')||t.startsWith("b!")&&t.endsWith("!"))&&(t=atob(t.slice(2,t.length-1))),t}var _=function(){function t(t,e,n,r){this.datasource=t,this.target=e,this.parseTarget()}return t.$inject=["datasource","target","templateSrv","scopedVars"],t.prototype.parseTarget=function(){var t,e;if(this.segments=[],this.error=null,!this.target.rawQuery){var n=this.target.query,r=(n=n.slice(11,-1)||"*").split(",");n=r.shift(),this.segments.push({type:s.MetricName,value:S(n)});var a=!0;try{for(var o=l(r),i=o.next();!i.done;i=o.next()){var u=i.value;a?a=!1:this.segments.push({type:s.TagSep});var c=(u=u.split(":")).shift(),f=u.join(":"),p=!1,d=4;c.startsWith("and(")||c.startsWith("not(")?p=!0:c.startsWith("or(")&&(p=!0,d=3),p&&(this.segments.push({type:s.TagOp,value:c.slice(0,d)}),c=c.slice(d)),this.segments.push({type:s.TagCat,value:S(c)}),this.segments.push({type:s.TagPair});for(var h=0;f.endsWith(")");)f=f.slice(0,-1),h++;this.segments.push({type:s.TagVal,value:S(f)});for(var g=0;g<h;g++)this.segments.push({type:s.TagPlus}),this.segments.push({type:s.TagEnd})}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}0===r.length&&this.segments.push({type:s.TagPlus})}},t.prototype.getSegmentPathUpTo=function(t){var e=this.segments.slice(0,t);return a.a.reduce(e,function(t,e){return t?t+e.value+".":e.value+"."},"")},t.prototype.parseTargetRecursive=function(t,e){if(null===t)return null;switch(t.type){case"metric":this.segments=t.segments}},t.prototype.updateSegmentValue=function(t,e){void 0!==this.segments[e]&&(this.segments[e].value=t.value)},t.prototype.addSelectMetricSegment=function(){this.segments.push({value:"select metric"})},t.prototype.updateModelTarget=function(t){var e,n;this.updateRenderedTarget(this.target,t);try{for(var r=l(t||[]),a=r.next();!a.done;a=r.next()){var o=a.value;o.refId!==this.target.refId&&this.updateRenderedTarget(o,t)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.updateRenderedTarget=function(t,e){var n=a.a.keyBy(e,"refId");delete n[t.refId];var r=t.query;a.a.each(n,function(t,e){!function(t,e){a.a.each(t,function(t,e){}),t[e].refCount=0}(n,e)}),delete t.targetFull,t.query!==r&&(t.targetFull=r)},t}();var E=function(){function t(e,n,r,a){this.$q=n,this.backendSrv=r,this.templateSrv=a,this.type="irondb",this.name=e.name,this.id=e.id,this.accountId=(e.jsonData||{}).accountId,this.irondbType=(e.jsonData||{}).irondbType,this.resultsLimit=(e.jsonData||{}).resultsLimit,this.apiToken=(e.jsonData||{}).apiToken,this.url=e.url,this.supportAnnotations=!1,this.supportMetrics=!0,this.appName="Grafana",this.datasourceRequest=t.setupCache(e,r)}return t.$inject=["instanceSettings","$q","backendSrv","templateSrv"],t.requestCacheKey=function(t){var e=t.method;if("GET"===e)return t.url;if("POST"===e)return JSON.stringify(t.data);throw new Error("Unsupported HTTP method type: "+(e||"?"))},t.setupCache=function(e,n){var r=function(t){return n.datasourceRequest(t)};if(!(e.jsonData||{}).useCaching)return r;var a={max:t.DEFAULT_CACHE_ENTRIES,maxAge:t.DEFAULT_CACHE_TIME_MS,promise:!0,normalizer:function(e){var n=e[0];return t.requestCacheKey(n)}};return i()(r,a)},t.prototype.query=function(t){var e=this;t.scopedVars;return a.a.isEmpty(t.targets[0])?this.$q.when({data:[]}):Promise.all([this._buildIrondbParams(t)]).then(function(t){return a.a.isEmpty(t[0])?e.$q.when({data:[]}):e._irondbRequest(t[0])}).then(function(t){return t.data.constructor===Array&&t.data.sort(function(t,e){return t.target.localeCompare(e.target)}),t}).catch(function(t){(0!==t.status||t.status>=300)&&e._throwerr(t)})},t.prototype.annotationQuery=function(t){throw new Error("Annotation Support not implemented yet.")},t.prototype.metricFindQuery=function(t,e){var n=e.variable;if(""!==t&&void 0!==n){var r=t,o=n.tagValuesQuery;if(n.useTags&&""!==o)return this.metricTagValsQuery(r,o).then(function(t){return a.a.map(t.data,function(t){return{value:t}})})}return Promise.resolve([])},t.prototype.getAccountId=function(){return"standalone"===this.irondbType?"/"+this.accountId:""},t.prototype.metricTagsQuery=function(t,e){if(void 0===e&&(e=!1),""===t||void 0===t||!e&&"and(__name:*)"===t)return Promise.resolve({data:[]});var n="/find"+this.getAccountId()+"/tags?query=";return n+=t,this._irondbSimpleRequest("GET",n,!1,!0)},t.prototype.metricTagCatsQuery=function(t){var e="/find"+this.getAccountId()+"/tag_cats?query=";return e=e+"and(__name:"+t+")",this._irondbSimpleRequest("GET",e,!1,!0,!1)},t.prototype.metricTagValsQuery=function(t,e){var n="/find"+this.getAccountId()+"/tag_vals?category="+e+"&query=";return n=n+"and(__name:"+t+")",this._irondbSimpleRequest("GET",n,!1,!0,!1)},t.prototype.testDatasource=function(){return this.metricTagsQuery("and(__name:ametric)").then(function(t){var e=a.a.get(t,"results[0].error");return e?{status:"error",message:e,title:"Error"}:{status:"success",message:"Data source is working",title:"Success"}}).catch(function(t){var e=(t.data||{}).message;return void 0===e&&(e="Error "+(t.status||"")+" "+(t.statusText||"")),{status:"error",message:e,title:"Error"}})},t.prototype._throwerr=function(t){if(t.data&&t.data.error)throw new Error("Circonus IRONdb Error: "+t.data.error);if(t.data&&t.data.user_error){var e=t.data.method||"IRONdb",n="";throw t.data.user_error.query&&(n=' in"'+t.data.user_error.query+'"'),new Error(e+" error: "+t.data.user_error.message+n)}throw"Not Found"===t.statusText?new Error("Circonus IRONdb Error: "+t.statusText):t.statusText&&t.status>0?new Error("Network Error: "+t.statusText+"("+t.status+")"):new Error("Error: "+(t?t.toString():"unknown"))},t.prototype._irondbSimpleRequest=function(t,e,n,r,a){void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===a&&(a=!0);var o=this.url,i={"Content-Type":"application/json"};"hosted"!=this.irondbType&&(i["X-Circonus-Account"]=this.accountId),"hosted"!=this.irondbType||n||(o+="/irondb",r||(o+="/series_multi"),i["X-Circonus-Auth-Token"]=this.apiToken,i["X-Circonus-App-Name"]=this.appName),i["X-Snowth-Advisory-Limit"]=a?this.resultsLimit:"none","standalone"!=this.irondbType||n||r||(o+="/series_multi"),n&&!r&&(o+="/extension/lua/caql_v1");var u={method:t,url:o+e,headers:i,retry:1};return this.datasourceRequest(u)},t.prototype._irondbRequest=function(t,e,n){var r=this;void 0===e&&(e=!1),void 0===n&&(n=!0);var a={"Content-Type":"application/json"},o={},i=[],u={data:[]};if("hosted"==this.irondbType?(a["X-Circonus-Auth-Token"]=this.apiToken,a["X-Circonus-App-Name"]=this.appName):a["X-Circonus-Account"]=this.accountId,a["X-Snowth-Advisory-Limit"]=n?this.resultsLimit:"none",a.Accept="application/json",t.std.names.length){var s=t.std.names[0].leaf_data.paneltype||"Graph";(o={}).url=this.url,"hosted"===this.irondbType&&(o.url=o.url+"/irondb",o.url=o.url+"/fetch"),o.method="POST","standalone"===this.irondbType&&(o.url=o.url+"/fetch");var l=[],c=t.std.interval,f=t.std.start,p=t.std.end;f=Math.floor(f-f%c),p=Math.floor(p-p%c);var d="Heatmap"===s?"merge":"pass",h=[],g={streams:h};g.period=c,g.start=f,g.count=Math.round((p-f)/c),g.reduce=[{label:"",method:d}];for(var m=0;m<t.std.names.length;m++){var v="Heatmap"===s?"histogram":"numeric";l.push(t.std.names[m].leaf_data.metriclabel);var y={},b=t.std.names[m].leaf_data.egress_function;b="Heatmap"===s?"none":b,y.transform=b,y.name=t.std.names[m].leaf_name,y.uuid=t.std.names[m].leaf_data.uuid,y.kind=v,h.push(y)}o.data=g,o.name="fetch",o.headers=a,(this.basicAuth||this.withCredentials)&&(o.withCredentials=!0),this.basicAuth&&(o.headers.Authorization=this.basicAuth),o.metricLabels=l,o.paneltype=s,o.isCaql=!1,o.retry=1,i.push(o)}if(t.caql.names.length)for(m=0;m<t.caql.names.length;m++){(o={}).url=this.url,"hosted"==this.irondbType&&(o.url=o.url+"/irondb"),o.method="GET",o.url=o.url+"/extension/lua","hosted"==this.irondbType&&(o.url=o.url+"/public");var T=this.templateSrv.replace(t.caql.names[m]);o.url=o.url+"/caql_v1?format=DF4&start="+t.caql.start,o.url=o.url+"&end="+t.caql.end,o.url=o.url+"&period="+t.caql.interval,o.url=o.url+"&q="+encodeURIComponent(T),o.name=t.caql.names[m],o.headers=a,o.start=t.caql.start,o.end=t.caql.end,o.retry=1,(this.basicAuth||this.withCredentials)&&(o.withCredentials=!0),this.basicAuth&&(o.headers.Authorization=this.basicAuth),o.isCaql=!0,i.push(o)}return Promise.all(i.map(function(t){return r.datasourceRequest(t).then(function(e){return r._convertIrondbDf4DataToGrafana(e,t)}).then(function(t){if(t.data.constructor===Array)for(var e=0;e<t.data.length;e++)u.data.push(t.data[e]);return t.data.constructor===Object&&u.data.push(t.data),u})})).then(function(t){return u}).catch(function(t){(0!==t.status||t.status>=300)&&r._throwerr(t)})},t.prototype._buildIrondbParamsAsync=function(t){var e,n,r=this,o={},i=!1,u=new Date(t.range.from).getTime()/1e3,s=new Date(t.range.to).getTime()/1e3,l=Math.floor(1e3*(s-u)/t.intervalMs);l>t.maxDataPoints/2&&(l=t.maxDataPoints/2);var c=Math.ceil((s-u)/l),f=[86400,3600,1800,1200,900,300,60,30,15,10,5,1];for(var p in f)if(c>1e3*f[p]){c=Math.floor(c/(1e3*f[p]))*(1e3*f[p]);break}for(c<60?c=60:c-=c%60,o.std={},o.std.start=u,o.std.end=s,o.std.names=[],o.std.interval=c,o.caql={},o.caql.start=u,o.caql.end=s,o.caql.names=[],o.caql.interval=c,e=0;e<t.targets.length;e++)(n=t.targets[e]).hide||(i=!0,!n.isCaql&&n.query&&(n.query.includes("*")||n.query.includes("?")||n.query.includes("[")||n.query.includes("]")||n.query.includes("(")||n.query.includes(")")||n.query.includes("{")||n.query.includes("}")||n.query.includes(";"))&&!0);if(!i)return{};for(e=0;e<t.targets.length;e++)!(n=t.targets[e]).hide&&n.query&&0!=n.query.length&&n.isCaql&&o.caql.names.push(n.query);if(n.isCaql)return o;var d=t.targets.map(function(t){var e=r.templateSrv.replace(t.query);return r.metricTagsQuery(e).then(function(e){var n="numeric";"Heatmap"===t.paneltype&&(n="histogram"),e.data=a.a.filter(e.data,function(t){var e=t.type.split(",");return a.a.includes(e,n)});for(var r=0;r<e.data.length;r++)e.data[r].target=t;return e.data}).then(function(e){for(var n=0;n<e.length;n++)if(!e[n].target.hide&&!t.isCaql){e[n].leaf_data={egress_function:"average",uuid:e[n].uuid,paneltype:e[n].target.paneltype},"average"!==t.egressoverride&&(e[n].leaf_data.egress_function=t.egressoverride);var a=e[n].metric_name;if("default"!==t.labeltype){var i=t.metriclabel;"name"===t.labeltype?i="%n":"cardinality"===t.labeltype&&(i="%n | %t-{*}"),i=m(i,e,n),i=r.templateSrv.replace(i),e[n].leaf_data.metriclabel=i}o.std.names.push({leaf_name:a,leaf_data:e[n].leaf_data})}return o})});return Promise.all(d).then(function(t){return o}).catch(function(t){0!==t.status||t.status})},t.prototype._buildIrondbParams=function(t){var e=this;return new Promise(function(n,r){n(e._buildIrondbParamsAsync(t))})},t.prototype._convertIrondbDf4DataToGrafana=function(t,e){var n=e.name,r=t.data.data,o=t.data.meta,i=[],u=t.data.head.start,s=t.data.head.count,l=t.data.head.period;if(!r||0==r.length)return{data:i};for(var c={},f=0;f<r.length;f++){var p=n+" ["+(f+1)+"]",d=o[f]?o[f].label:p,h=e.metricLabels[f];a.a.isString(h)&&(d=h);for(var g=0;g<r[f].length;g++)if(null!=r[f][g]){var m=1e3*(u+g*l);if(!(m<1e3*e.start))if(r[f][g].constructor===Number)void 0===i[f]&&(i[f]={target:d,datapoints:[]}),i[f].datapoints.push([r[f][g],m]);else if(r[f][g].constructor===Object)for(var v in r[f][g]){s=r[f][g][v];v=parseFloat(v).toString();var y=m.toString();null==c[v]&&(c[v]={target:v,datapoints:[],_ts:{}},i.push(c[v])),null==c[v]._ts[y]?(c[v]._ts[y]=[s,m],c[v].datapoints.push(c[v]._ts[y])):c[v]._ts[y][0]+=s}}}for(g=0;g<i.length;g++)delete i[g]._ts;return{data:i}},t.DEFAULT_CACHE_ENTRIES=128,t.DEFAULT_CACHE_TIME_MS=6e4,t}(),x=n(25);n(88);var O=function(t){function e(e,n,r,o){var i=t.call(this,e,n)||this;return i.uiSegmentSrv=r,i.templateSrv=o,i.defaults={},i.labelTypeOptions=[{value:"default",text:"name and tags"},{value:"name",text:"name only"},{value:"cardinality",text:"high cardinality tags"},{value:"custom",text:"custom"}],i.egressTypeOptions=[{value:"count",text:"number of data points (count)"},{value:"average",text:"average value (gauge)"},{value:"average_stddev",text:"standard deviation a.k.a. σ (stddev)"},{value:"derive",text:"rate of change (derive)"},{value:"derive_stddev",text:"rate of change σ (derive_stddev)"},{value:"counter",text:"rate of positive change (counter)"},{value:"counter_stddev",text:"rate of positive change σ (counter_stddev)"}],i.caqlFindFunctions={count:"count",average:"average",average_stddev:"stddev",derive:"derivative",derive_stddev:"derivative_stddev",counter:"counter",counter_stddev:"counter_stddev"},a.a.defaultsDeep(i.target,i.defaults),i.target.isCaql=i.target.isCaql||!1,i.target.egressoverride=i.target.egressoverride||"average",i.target.metriclabel=i.target.metriclabel||"",i.target.labeltype=i.target.labeltype||"default",i.target.query=i.target.query||"",i.target.segments=i.target.segments||[],i.target.paneltype=i.panelCtrl.pluginName,i.queryModel=new _(i.datasource,i.target,o),i.buildSegments(),i.updateMetricLabelValue(!1),i}return e.$inject=["$scope","$injector","uiSegmentSrv","templateSrv"],function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.toggleEditorMode=function(){this.target.isCaql=!this.target.isCaql,this.typeValueChanged()},e.prototype.typeValueChanged=function(){if(this.target.isCaql){var t=this.segmentsToCaqlFind();this.target.query=t}else this.target.query="",this.target.egressoverride="average",this.target.labeltype="default",this.emptySegments(),this.parseTarget();this.error=null,this.panelCtrl.refresh()},e.prototype.labelTypeValueChanged=function(){"custom"===this.target.labeltype&&setTimeout(function(){document.getElementById("metriclabel").focus()},50),this.panelCtrl.refresh()},e.prototype.metricLabelKeyUp=function(t){var e=this,n=t.currentTarget;13===t.keyCode&&setTimeout(function(){e.target.metriclabel=n.value,e.updateMetricLabelValue()},0)},e.prototype.updateMetricLabelValue=function(t){void 0===t&&(t=!0),""===this.target.metriclabel&&"custom"===this.target.labeltype&&(this.target.labeltype="default"),t&&this.panelCtrl.refresh()},e.prototype.egressValueChanged=function(){this.panelCtrl.refresh()},e.prototype.onChangeInternal=function(){this.panelCtrl.refresh()},e.prototype.getCollapsedText=function(){return this.target.query},e.prototype.getSegments=function(t,e){var n=this,r=e&&e.length>0?e:"",o=this.segments[t]._type;if(o===s.MetricName)return A(s.MetricName,r)!==r?r="b/"+btoa(this.escapeRegExp(r))+"/":r+="*",this.datasource.metricTagsQuery("and(__name:"+r+")",!0).then(function(e){var r=a.a.map(e.data,function(t){return d(t.metric_name)});r=a.a.uniq(r);var o=a.a.map(r,function(t){return n.newSegment(s.MetricName,{value:t,expandable:!0})});return 0===t&&a.a.eachRight(n.panelCtrl.panel.targets,function(t){t.refId,n.queryModel.target.refId}),o}).catch(function(t){return[]});if(o===s.TagCat||o===s.TagPlus){var i=A(s.MetricName,this.segments[0].value);return this.datasource.metricTagCatsQuery(i).then(function(t){var e,r;if(t.data&&t.data.length>0){var a=t.data,i=[];try{for(var u=l(a),c=u.next();!c.done;c=u.next()){var f=c.value;i.push(n.newSegment(s.TagCat,{value:S(f),expandable:!0}))}}catch(t){e={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}return o===s.TagPlus&&(i.unshift(n.newSegment(s.TagOp,{value:"and("})),i.unshift(n.newSegment(s.TagOp,{value:"not("})),i.unshift(n.newSegment(s.TagOp,{value:"or("}))),i}}).catch(function(t){return[]})}if(o===s.TagOp){var u=[this.newSegment(s.TagOp,{value:"REMOVE"}),this.newSegment(s.TagOp,{value:"and("}),this.newSegment(s.TagOp,{value:"not("}),this.newSegment(s.TagOp,{value:"or("})];return Promise.resolve(u)}if(o===s.TagVal){i=A(s.MetricName,this.segments[0].value);var c=this.segments[t-2].value;return"select tag"===c?Promise.resolve([]):this.datasource.metricTagValsQuery(i,A(s.TagCat,c,!1)).then(function(t){var e,r;if(t.data&&t.data.length>0){var o=t.data,i=[];i.push(n.newSegment(s.TagVal,{value:"*",expandable:!0})),a.a.eachRight(n.templateSrv.variables,function(t){i.push(n.newSegment(s.TagVal,{type:"template",value:"$"+t.name,expandable:!0}))});try{for(var u=l(o),c=u.next();!c.done;c=u.next()){var f=c.value;i.push(n.newSegment(s.TagVal,{value:S(f),expandable:!0}))}}catch(t){e={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}return i}}).catch(function(t){return[]})}return Promise.resolve([])},e.prototype.parseTarget=function(){this.queryModel.parseTarget(),this.buildSegments()},e.prototype.setSegmentType=function(t,e){return t._type=e,t._typeName=s[e],t},e.prototype.newSegment=function(t,e){var n=this.uiSegmentSrv.newSegment(e);return this.setSegmentType(n,t)},e.prototype.mapSegment=function(t){var e;return e=t.type===s.TagOp?this.uiSegmentSrv.newOperator(t.value):t.type===s.TagEnd?this.uiSegmentSrv.newOperator(")"):t.type===s.TagPair?this.uiSegmentSrv.newCondition(":"):t.type===s.TagSep?this.uiSegmentSrv.newCondition(","):t.type===s.TagPlus?this.buildSelectTagPlusSegment():this.uiSegmentSrv.newSegment(t),this.setSegmentType(e,t.type)},e.prototype.buildSegments=function(){var t=this;this.segments=a.a.map(this.queryModel.segments,function(e){return t.mapSegment(e)});var e=this.queryModel.checkOtherSegmentsIndex||0;this.checkOtherSegments(e)},e.prototype.addSelectMetricSegment=function(){this.queryModel.addSelectMetricSegment();var t=this.uiSegmentSrv.newSelectMetric();this.setSegmentType(t,s.MetricName),this.segments.push(t)},e.prototype.buildSelectTagPlusSegment=function(){var t=this.uiSegmentSrv.newPlusButton();return this.setSegmentType(t,s.TagPlus),t},e.prototype.addSelectTagPlusSegment=function(){this.segments.push(this.buildSelectTagPlusSegment())},e.prototype.newSelectTagValSegment=function(){var t=this.uiSegmentSrv.newKeyValue("*");return this.setSegmentType(t,s.TagVal),t},e.prototype.checkOtherSegments=function(t){t===this.segments.length&&(this.segments[t-1]._type===s.MetricName&&this.addSelectTagPlusSegment());return Promise.resolve()},e.prototype.setSegmentFocus=function(t){a.a.each(this.segments,function(e,n){e.focus=t===n})},e.prototype.segmentValueChanged=function(t,e){var n=this;if(this.error=null,this.queryModel.updateSegmentValue(t,e),t._type!==s.TagOp){if(t._type===s.TagPlus){if("and("===t.value||"not("===t.value||"or("===t.value)return this.segments.splice(e,1),e>2&&this.segments.splice(e,0,this.mapSegment({type:s.TagSep})),this.segments.splice(e+1,0,this.mapSegment({type:s.TagOp,value:t.value}),this.mapSegment({type:s.TagCat,value:"select tag",fake:!0}),this.mapSegment({type:s.TagPair}),this.newSelectTagValSegment(),this.buildSelectTagPlusSegment(),this.mapSegment({type:s.TagEnd})),e>2&&this.segments.splice(e+7,0,this.buildSelectTagPlusSegment()),void this.setSegmentFocus(e+3);this.segments.splice(e,1),e>2&&this.segments.splice(e,0,this.mapSegment({type:s.TagSep})),this.segments.splice(e+1,0,this.mapSegment({type:s.TagCat,value:t.value}),this.mapSegment({type:s.TagPair}),this.newSelectTagValSegment(),this.buildSelectTagPlusSegment()),1==e&&(this.segments.splice(e,0,this.mapSegment({type:s.TagOp,value:"and("})),this.segments.push(this.mapSegment({type:s.TagEnd})))}if(0==e&&this.spliceSegments(e+1),t.expandable)return this.checkOtherSegments(e+1).then(function(){n.setSegmentFocus(e+1),n.targetChanged()});this.setSegmentFocus(e+1),this.targetChanged()}else{if("REMOVE"===t.value){for(var r=e+1,a=1,o=this.segments.length;a>0&&r<o;){var i=this.segments[r]._type;if(i===s.TagOp)a++;else if(i===s.TagEnd&&0==--a)break;r++}var u=e,l=r-e+1;e>2&&(u--,l++),this.segments.splice(u,l),o===r+1&&this.segments.push(this.buildSelectTagPlusSegment())}this.targetChanged()}},e.prototype.spliceSegments=function(t){this.segments=this.segments.splice(0,t),this.queryModel.segments=this.queryModel.segments.splice(0,t)},e.prototype.emptySegments=function(){this.queryModel.segments=[],this.segments=[]},e.prototype.segmentsToStreamTags=function(){var t,e,n=this.segments.slice(),r=n.shift().value,a="and(__name:"+A(s.MetricName,r),o=!1;try{for(var i=l(n),u=i.next();!u.done;u=i.next()){var c=u.value,f=c._type;f!==s.TagPlus&&(o||f===s.TagEnd||f===s.TagSep||(a+=","),o=f===s.TagOp||f===s.TagPair||f===s.TagCat||f===s.TagSep,a+=A(f,c.value))}}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return a+=")"},e.prototype.queryFunctionToCaqlFind=function(){if("Heatmap"===this.target.paneltype)return"find:histogram";var t="find",e=this.target.egressoverride;return"average"!==e&&(t+=":"+(e=this.caqlFindFunctions[e])),t},e.prototype.buildCaqlLabel=function(){var t=this.target.labeltype,e=this.target.metriclabel;if("default"!==t){if("custom"===t&&""!==e)return" | label('"+(e=e.replace(/'/g,'"'))+"')";if("name"===t)return" | label('%n')";if("cardinality"===t)return" | label('%n | %t-{*}')"}return" | label('%cn')"},e.prototype.segmentsToCaqlFind=function(){var t,e,n=this.segments.slice(),r=n.shift().value,a=1===n.length&&n[0]._type==s.TagPlus;if("*"===r&&a)return"";var o=this.queryFunctionToCaqlFind()+"('"+r+"'";if(a)return o+=")"+this.buildCaqlLabel();var i=!0,u=!1;try{for(var c=l(n),f=c.next();!f.done;f=c.next()){var p=f.value,d=p._type;d!==s.TagPlus&&(u||d===s.TagEnd||d===s.TagSep||(o+=",",i&&(o+=" '",i=!1)),u=d===s.TagOp||d===s.TagPair||d===s.TagCat||d===s.TagSep,o+=A(d,p.value))}}catch(e){t={error:e}}finally{try{f&&!f.done&&(e=c.return)&&e.call(c)}finally{if(t)throw t.error}}return o+="')"+this.buildCaqlLabel()},e.prototype.updateModelTarget=function(){var t=this.segmentsToStreamTags();this.queryModel.updateModelTarget(this.panelCtrl.panel.targets),this.queryModel.target.query=t},e.prototype.targetChanged=function(){if(!this.queryModel.error){var t=this.queryModel.target.query;this.updateModelTarget(),this.queryModel.target!==t&&this.panelCtrl.refresh()}},e.prototype.showDelimiter=function(t){return t!==this.segments.length-1},e.prototype.escapeRegExp=function(t){return String(t).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")},e.templateUrl="partials/query.editor.html",e}(x.QueryCtrl);var C=function(){function t(t){this.current.jsonData.irondbType=this.current.jsonData.irondbType||"standalone",this.current.jsonData.resultsLimit=this.current.jsonData.resultsLimit||"100",this.current.jsonData.useCaching=this.current.jsonData.useCaching||!0}return t.templateUrl="partials/config.html",t}();n.d(e,"AnnotationsQueryCtrl",function(){return j}),n.d(e,"Datasource",function(){return E}),n.d(e,"QueryCtrl",function(){return O}),n.d(e,"ConfigCtrl",function(){return C});var j=function(){function t(){}return t.templateUrl="partials/annotations.editor.html",t}()}])});